[
	{"code": "\n\ndef admin_book_appointment(request):\n    \"\"\"admin book appointment for the patient \"\"\"\n    patient = models.Patient()\n    if request.method == 'POST':\n        check = False\n        for i in models.Patient.objects.all():\n            if i.user.username == request.POST['patientName']:\n                check = True\n                patient = i\n        if check:\n            appointment = models.Appointment()\n            appointment.date = request.POST['appointment']\n            appointment.time = request.POST['time']\n            appointment.name = patient.user\n            appointment.patient_id = patient.user_id\n            flag = True\n            for i in models.Appointment.objects.all():\n                if (str(i.date) == str(appointment.date)\n                        and str(i.time)[0:5] == str(appointment.time)):\n                    flag = False\n                    messages.error(request, \"The role is already booked\")\n            if flag:\n                appointment.save()\n                messages.success(request, \"Book Success\")\n    return render(request, 'AdminBookAppointment.html', {'patients': models.Patient.objects.all()})\n\ndef logout_user(request):\n    \"\"\"logout for users \"\"\"\n    logout(request)\n    return redirect('login')"}
]