[
	{
  "code": "@user_passes_test(is_nurse)\ndef nurse_view_food(request):\n    \"\"\"nurse show food list \"\"\"\n    food = models.Food.objects.all()\n    dict = {}\n    dict['user'] = models.Nurse.objects.get(user_id=request.user.id)\n    dict['food'] = food\n    return render(request, 'nurse_view_food.html', context=dict)\n\n@user_passes_test(is_nurse)\ndef nurse_add_food(request):\n    \"\"\"nurse add food to list \"\"\"\n    flag = False\n    dict = {}\n    dict['user'] = models.Nurse.objects.get(user_id=request.user.id)\n    if request.method == 'POST':\n        food = models.Food()\n        for i in models.Food.objects.all():\n            if i.Name == request.POST['Name']:\n                flag = True\n\n        food.Name = request.POST['Name']\n        food.number = request.POST['num']\n        food.max_Cholesterol = request.POST['max_Cholesterol']\n        food.max_Liver_function = request.POST['max_Liver_function']\n        food.max_Kidney_function = request.POST['max_Kidney_function']\n        food.max_Blood_Pressure = request.POST['max_Blood_Pressure']\n        food.pic = request.FILES['pic']\n        if flag is False:\n            food.save()\n        else:\n            messages.error(request, \"The role is already booked\")\n\n        return HttpResponseRedirect('nurse-dashboard')\n    return render(request, 'nurse_add_food.html', context=dict)"
}
]